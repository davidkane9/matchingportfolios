weather = read.table("../inst/raw/monthly.txt")
weather = read.table("../inst/raw/MonthlyTemp.txt", header = T, sep = "\t")
head(weather)
library(reshape
)
mweather = melt(weather, id = "Year")
head(mweather)
mweather$Date = with(mweather,as.Date(paste(Year, Variable, "01", sep = "-"), format = "%Y-%b-%d"))
mweather$Date = with(mweather,as.Date(paste(Year, variable, "01", sep = "-"), format = "%Y-%b-%d"))
head(mweather)
mweather$Temp = mweather$value
head(mweather)
p = ggplot(data = weather, aes(x = Date, y = Temp))
library(ggplot2)
p = ggplot(data = weather, aes(x = Date, y = Temp))
library(ggplot2)
p = ggplot(data = weather, aes(x = Date, y = Temp))
p + geom_point() + geom_smooth(method = "lm")
p = ggplot(data = mweather, aes(x = Date, y = Temp))
p + geom_point() + geom_smooth(method = "lm")
p + layer(geom = "point")
p + geom_point(size = .1)
p + geom_point(size = .1) + geom_smooth(method = "lm", se = FALSE)
lm(Temp ~ Date, mweather)
lm(Temp ~ Date, mweather) -> l
predict(l)
?predict
newdates = dataframe(Date = as.Date(c("1900-Jan-01", "2010-Jan-01"), format = "%Y-%b-%d"))
newdates = data.frame(Date = as.Date(c("1900-Jan-01", "2010-Jan-01"), format = "%Y-%b-%d"))
newdates
predict(l, newdata = newdates)
summary(l)
p + geom_point(size = .1) + geom_smooth(method = "lm", se = FALSE) + title("Monthly Temperature in Williamstown, MA")
p + geom_point(size = .1) + geom_smooth(method = "lm", se = FALSE) + main("Monthly Temperature in Williamstown, MA")
p + geom_point(size = .1) + geom_smooth(method = "lm", se = FALSE) + opts(title = "Monthly Temperature in Williamstown, MA")
ggsave("Temp.png")
